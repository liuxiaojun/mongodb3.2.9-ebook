# 19.1 分布式部署之使用Master-Slave集群

## replication
* master-slave 集群 （主从集群）
* replica set  (副本集)
* sharding (分片)

## master-slave 集群
write在master，read在slave中,通过oplog.$main 实现日志同步。
master配置:
```
logpath=/usr/local/mongodb/dblogs
logappend=true
fork=true
dbpath=/usr/local/mongodb/data
port=27017
bind_ip=10.11.0.1
master=true
```
slave配置:
```
logpath=/usr/local/mongodb/dblogs
logappend=true
fork=true
dbpath=/usr/local/mongodb/data
port=27017
slave=true
source=10.11.0.1:27017
```

分别启动后，进入从，执行命令 rs.slaveOk()

## replica set TODO




## links
  * [目录](<preface.md>)
  * 上一节: [18.1 存储之WiredTiger,MMap,In-Memory三种存储引擎性能分析](<18.1.md>)
  * 下一节: 