# 3 capped collection  上限集合

## 参数
* bytes maxinum 指定collection的大小。
* document maxinum 指定collection中的document的个数

## 创建
```
db.createCollection(<name>, { capped: <boolean>,
                              autoIndexId: <boolean>,
                              size: <number>,
                              max: <number>,
                              storageEngine: <document>,
                              validator: <document>,
                              validationLevel: <string>,
                              validationAction: <string>,
                              indexOptionDefaults: <document> } )
```

## 查询
* 默认按照先插入先显示
* 倒序查询 db.logs.find().sort( { $natural: -1 } ).toArray();

## 普通集合转换为上限集合
db.runCommand({"convertToCapped": "mycoll", size: 100000});